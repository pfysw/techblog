
# 推理实验室(1) 命题证明

这里采用A.G.汉密尔顿《数理逻辑》中的记号。

## 原子符号：

~、->、p1、p2....

## 公式集：
pi是公式，如果A和B是公式，那么~A和A->B也是公式。

有时公式太复杂，也可以用∧,∨，<->来简化表示，规定用A∧B表示~(A->~B),用A∨B代替~A->B,用A<->B代替(A->B)∧(B->A),注意这不是原子符号，应用时只是一个宏替换。

## 公理模式:
L1:A->(B->A)
L2:(A->(B->C))->((A->B)->(A->C))
L3:(~A->~B)->(B->A)

## 定理集：
所有公理都属于定理。
1.代入规则
把定理模式中的字母用公式替换，保持相同的字母替换后为相同的公式，最后得到的公式为定理。例如：
在L1中把A用p1->p1代，把B用p2代，得到定理(p1->p1)->(p2->(p1->p1))
2.后承规则(MP规则)
如果A和A->B是定理，那么B是定理

例子：证明A->A是定理。
证：      
```
(1) A->((A->A)->A)............................................ L1   
(2) (A->((A->A)->A))->((A->(A->A))->(A->A)).....L2      
(3) (A->(A->A))->(A->A) ........................(1)(2)MP     
(4) A->(A->A) ................................................L1          
(5) (A->A) ..............................................(3)(4)MP   
```

不妨记定理A->A为L4

## 演绎定理：
设Γ是一个公式集，并假定为公理，如果能通过代入规则和演绎规则推出B，B是演绎序列中的最后一个公式，则称Γ演绎出B，记为Γ=>B，如果A为Γ中的一元，则Γ-{A}=>A->B,反之亦然，证明略。

例：证明{A->B,B->C} => A->C
证：
```
(1) A->B.........................................................假设
(2) B->C.........................................................假设
(3) A.............................................................假设
(4) B....................................................... (1)(3)MP
(5) C.......................................................(2)(4)MP
```

因此{A->B,B->C,A} => C，由演绎定理得{A->B,B->C} => A->C，把这个规则称为假言三段式，记为HS规则。

使用演绎定理时还要注意假设不能用代入规则，否则就改变了假设的前提。

# 替换：
在(□->□)->□的每个空格中填入一个字母组成公式，有多少种方案?
答案：
```
(A->(B->C))
(A->(B->B))
(A->(A->B))
(A->(B->A))
(A->(A->A))
```
(注：这里所有字母地位相同，所以(A->(B->B))与(B->(C->C))属于同一种

在 ((□->□)->□)->A的每个空格中填入一个字母组成公式，其中(□->□)->□有多少种方案?
答案：
```
(A->(A->A))
(B->(A->A))
(A->(B->A))
(B->(C->A))
(B->(B->A))
(A->(A->B))
(B->(A->C))
(B->(A->B))        
(A->(B->C))
(A->(B->B))
(B->(C->D))
(B->(C->C))
(B->(B->C))
(B->(C->B))
(B->(B->B))                                                        
```
(注：B,C,D的地位相同，但与A的地位是不同的

# 练习：
证明下列定理：
```
1.(A->B) -> (A->(C->B))
2.(A->(B->C)) -> (B->(A->C))
3.A->~~A?
4.(A->B)->(~B->~A)
5.~A->(A->B)
6.(A->~A)->A
7.((A->B)->A)->A
8.~((~(A->A)->B)->~(A->A))
9.A∨(B∧C)->((A∨B)∧(A∨C))
10.((D->B)->(A->D)) -> (((A->B)->C)->((D->B)->C))?
11.((~A->A)->(B->~A)) -> ((~A->A)->(B->C))
12.(((A->(A->B))->B)->C) -> (((A->B)->B)->C)
13.(((A->(B->B))->C) -> ((A->D)->C))
14.((A->((~B->C)->D)) -> (A->(~~B->D)))
15.(A->(B->C)) -> (A->(((C->D)->B)->((C->D)->D)))
```

# 答案：

每一行显示比较长，在手机端显示不是很好，建议在电脑端阅读。

```
1.(A->B) -> (A->(C->B))
证明：
(1) B->(C->B) ............................................................... L1
(2) (B->(C->B)) -> (A-> (B->(C->B)) ) .......................................L1
(3) (A-> (B->(C->B)) ....................................................(1)(2)MP
(4) (A-> (B->(C->B)) ->((A->B)->(A->(C->B))) .................................L2
(5) ((A->B)->(A->(C->B)) ................................................(3)(4)MP
```
```
2.(A->(B->C)) -> (B->(A->C))?
证明1：
(1) ((A->(B->C))->((A->B)->(A->C)))->((A->(B->C))->(B->((A->B)->(A->C)))).... 习题1
(2) (A->(B->C))->((A->B)->(A->C)) .........................................L2
(3) (A->(B->C))->(B->((A->B)->(A->C))) ...............................(1)(2)MP
(4) ((B->((A->B)->(A->C))) -> ((B->(A->B))->(B->(A->C))) ......................L2
(5) (A->(B->C)) -> ((B->(A->B))->(B->(A->C)) ) .............................(3)(4)HS?
(6) (5)-> ((A->(B->C))->(B->(A->B)))->((A->(B->C))->(B->(A->C))) ) ..........L2
(7) ((A->(B->C))->(B->(A->B)))->((A->(B->C))->(B->(A->C))) ..................(5)(6)MP
(8) (B->(A->B)) ........................................................................L1
(9) (8)->( (A->(B->C)) ->(8) ) .................................................... L1
(10) (A->(B->C))->(B->(A->B)) ...........................................(8)(9)MP
(11) (A->(B->C))->(B->(A->C)) ..............................................(7)(10)MP
```
```
证明2：
(1)A ................................................................................假设
(2)B ..........................................................................假设
(3)(A->(B->C)) ............................................................................. 假设
(4)B->C ................................................................................. (1)(3)MP
(6)C ...................................................................................(2)(4)MP
(7)A->C ...................................................................... (1)(6)演绎
(8)(B->(A->C) ....................................................................... (2)(7)演绎
(9)(A->(B->C)) -> (B->(A->C)) ....................................... (3)(8)演绎
```
```
3.A->~~A
(1) ~~A->(~~~~A->~~A) .......................................................L1
(2)(~~~~A->~~A) ->(~A->~~~A) ........................................L3?
(3)(~A->~~~A) ->(~~A->A) .........................................................L3
(4)~~A->(~~A->A) ................................................................... (1)(2)(3)HS
(5)(~~A->(~~A->A)) ->((~~A->~~A)->(~~A->A) ) ............................. L2
(6)(~~A->~~A)->(~~A->A) ............................................................ (4)(5)MP
(7)(~~A->~~A) ..........................................................................L4
(8)(~~A->A) ...................................................................... (6)(7)MP
(9)(~~~A->~A) ...................................................................... (8)
(10)(~~~A->~A)->(A->~~A) .............................................................. L3?
(11)A->~~A ................................................................... (9)(10)MP
```
```
4.(A->B)->(~B->~A)
证明：
(1)A->B ...........................................................假设
(2)~~A->A ............................................................ 习题3 (8)
(3)B->~~B .................................................................习题3
(4)~~A->~~B .............................................................(1)(2)(3)HS
(5)(~~A->~~B)->(~B->~A) .................................................................L3?
(6)(~B->~A) .................................................................. (4)(5)MP
(7) (A->B)->(~B->~A) ..................................................... (1)(6)演绎
```
```
5.~A->(A->B)
证明1：
(1) (~B->~C)->(C->B) ................................................... L3
(2) ((~B->~C)->(C->B) ) ->(A->((~B->~C)->(C->B)) ) ..................... L1
(3) A->( (~B->~C)->(C->B) ) ................................................... (1)(2)MP
(4) ( A->( (~B->~C)->(C->B) ) ) -> ( (A-> (~B->~C)) -> (A->(C->B)) )....... L2
(5) (A-> (~B->~C)) -> (A->(C->B)) ....................................... (3)(4)MP?
(6) (~A-> (~B->~A)) -> (~A->(A->B)) ................................... (5)
(7) (~A-> (~B->~A)) ................................................................... L1
(8) (~A->(A->B)) ....................................................................6)(7)MP
```
```
证明2：
(1) (~A-> (~B->~A)) ................................................................... L1
(2) (~B->~A)->(A->B) .............................................................. L3
(3) (~A->(A->B)) .....................................................................(1)(2)HS
```
```
证明3：
(1) (B->(~A->B) ................................................................................ L1
(2) (~A->B) ->(~B->~~A) .................................................................. 习题4
(3) B->(~B->~~A) ......................................................................(1)(2)HS?
(4) (B->C)-> ((A->(B->C))->((A->B)->(A->C))) ...................................... ( B->C)->L2
(5) (4)->(((B->C)-(A->(B->C))) -> ((B->C)-((A->B)->(A->C))) ....................... L2
(6)(((B->C)-(A->(B->C))) -> ((B->C)-((A->B)->(A->C))) ....................... (4)(5)MP?
(7)((B->C)-((A->B)->(A->C)) ........................................................... L1 (6)MP?
(8)(~~A->A)->((~B->~~A) ->(~B->A)) .................................................... (7)
(9)((~B->~~A) ->(~B->A)) -> ((B->(~B->~~A))->(B->(~B->A))) ...................(7)
(10)(B->(~B->~~A))->(B->(~B->A)) ...................................................... (8)(9)HS 习题3 (8)
(11)(B->(~B->A) ........................................................................(3)(10)MP
```
```
6.(~A->A)->A
证明：
(1) ~A->(A->B) ................................................................................... 习题5
(2) (1)->((~A->A)->(~A->B)) ....................................................................... L2
(3) ((~A->A)->(~A->B)) ..........................................................................(1)(2)MP
(4) (~A->B)->(~B->~~A) .........................................................................习题4
(6) (~~A->A) ->((~B->~~A) ->(~B->A)) .....................................习题5证明3 (7)?
(7) ((~B->~~A) ->(~B->A)) .................................................................习题3(8)，(6)MP
(8) ((~A->A)->(~B->A)) ............................................................................(3)(4)(7)HS
(9) ((~A->A)->~B)->((~A->A)->A) .............................................................. (8)(L2)MP
(10)((~A->A)->~~(~A->A))->((~A->A)->A) .........................(9)B代入~(~A->A)
(11)(~A->A)->A ..................................................................................... (10)，习题3 MP
```
```
7.((A->B)->A)->A
证：
(1) (A->B)->A) .....................................................................................假设
(2) (~A->(A->B)) .............................................................................. 习题5
(3) (~A->A) ..................................................................................... (1)(2)HS
(4) (~A->A)->A .....................................................................................习题6
(5) A ............................................................................................. (3)(4)MP
(6) ((A->B)->A)->A ...................................................................... (1)(5)演绎
```
```
8.~ ( (~(A->A)->B)->~(A->A) )
证：
(1) (~(A->A)->B)->~(A->A) .......................................................... 假设
(2) A->A..................................................................... L4
(3) ~B->(A->A) ................................................................................ (2)L1 MP
(4) ~B->(A->A) ->(~(A->A) ->~~B ) ....................................................... 习题4
(5) ~(A->A) ->~~B .........................................................................(3)(4) MP
(6) ~~B->B..........................................................................习题3 (8)
(7) ~(A->A)->B ................................................................. (5)(6) HS
(8) ~(A->A) ........................................................................... (1)(7)MP
(9) (A->A)->( ~(A->A)-> ~ ( (~(A->A)->B)->~(A->A) ) ) ............ 习题5
(10) ( ~(A->A)-> ~ ( (~(A->A)->B)->~(A->A) ) ) ...................... (2)(9)MP
(11) ~ ( (~(A->A)->B)->~(A->A) ) .......................................................... (8)(10)MP
(12) (1)->~(1) ......................................................................(1)(11)演绎
(13) ~~(1)->(1) .............................................................................. (6)
(14) ~~(1)->~(1) ...................................................................(12)(13)HS
(15) (~~(1)->~(1)) -> ~(1) ...............................................................习题6
(16) ~ ( (~(A->A)->B)->~(A->A) ) ..................................................... (14)(15)MP
```
```
9. A∨(B∧C)->((A∨B)∧(A∨C))
引理1 (A->~B) -> (B->~A)
引理2 (~ A->B )->(~B->A)
证：
(1) (A->~B) ........................................................................... 假设
(2) ~~B->~A .......................................................................(1)L3 MP
(3) B->~~B ..............................................................................习题3
(4) B->~A ......................................................................... (2)(3)HS
(5) (A->~B) -> (B->~A) ............................................................ (1)(4)演绎
引理2同理可证

证明：
(1) (X->Y) -> (X->Y) ...................................................................... L4
(2) ((X->Y) -> (X->Y)) -> X->( (X->Y) -> Y) .............................................习题2
(3) X->( (X->Y) -> Y) ................................................................. (1)(2)MP?
(4) X->( (X->~Y) -> ~Y) ...................................................................(3)
(5) ( (X->~Y) -> ~Y) -> ( Y->~(X->~Y) ) .......................................................引理1
(6) X->( Y->~(X->~Y)) ................................................................... (4)(5)HS
(7) ~C->(B->~C) ................................................................................. L1
(8) ~(B->~C) ->C ....................................................................(7) 引理2 MP
(9) ~B->(B->~C) .............................................................................习题5
(10) ~(B->~C) ->B .................................................................(9) 引理2 MP
(11) ~A->(~(B->~C) ->C) ...........................................................(8) L1 MP
(12) ~A->(~(B->~C) ->B) .............................................................(10) L1 MP
(13) (~A->~(B->~C)) -> (~A->C) ................................................... (11) L2 MP
(14) (~A->~(B->~C)) ->(~A->B) ................................................. (12) L2 MP
(15)(~A->B)->((~A->C)->~((~A->B) ->~(~A->C))) .................................. (6)
(16) (~A->~(B->~C)) -> ((~A->C)->~((~A->B) ->~(~A->C))) ............ (14)(15)HS
(17) (~A->C) -> ((~A->~(B->~C)) ->~((~A->B) ->~(~A->C))) .......... (16)习题2 MP
(18) (~A->~(B->~C))-> ((~A->~(B->~C)) ->~((~A->B) ->~(~A->C))) ... (13)(17)HS
(19) (M->(M->N)) -> (M->(M->N)) ......................................................... L4
(20) (M->(M->N)) -> ((M->M) -> (M->N)) ......................................... (19) L2 HS
(21) (M->(M->N)) -> (M->M) ..................................................... (L4) (L1 ) MP?
(22) (M->(M->N)) -> (M->N) ..............................................(20) L2 MP 再和(21)MP
(23) (~A->~(B->~C)) ->~((~A->B) ->~(~A->C)) ........................................... (18)(22)MP
(24) A∨(B∧C)->((A∨B)∧(A∨C)) ..................................................... (23)
```
```
10.((D->B)->(A->D)) -> (((A->B)->C)->((D->B)->C))
证明：
(1)A- > ((B->(C->D))->((B->C)->(B->D))) ......................................L2,L1, MP
(2)((A->(B->(C->D))) -> (A -> ((B->C)->(B->D) ))) ................................ (1),L2 MP
(3) (C->D) -> ((B->C)->(B->D)) .............................(2)中A用C->D代，再与L1 MP
(4) ((C->D)->(B->C)) ->( (C->D)->(B->D)) ......................................(3),L2 MP
......................................把(4)记为X->Y
(5) (X->Y) -> ((A->X)->(A->Y) ) ..................................................(3)
(6) ((A->(C->D)->(B->C)) ) -> (A->( (C->D)->(B->D))) ..............................(4)(5)MP
(7) (B->C) -> ((C->D)->(B->D)) ..............................(6)中A用B->C代，再和L1 MP
.........................(7)中B中C->D代，C用B->D代，D用A代得
(8) ( (C->D)->(B->D)) -> (((B->D)->A) -> ((C>D)->A) )
(9) ((C->D)->(B->C)) -> (((B->D)->A) -> ((C>D)->A) ) ......................... (4)(8)HS
.........................(9)中C用D代，D用B代，B用A代，A用C代得
(10)((D->B)->(A->D)) -> (((A->B)->C)->((D->B)->C))
```